# Административная панель фестиваля Lynx

Этот проект представляет собой административную панель для фестиваля Lynx, 
переписанную с Python на JavaScript (Node.js).

## Установка

1. Установите [Node.js](https://nodejs.org/) (рекомендуется версия 16.x или выше)

2. Клонируйте репозиторий и установите зависимости:
```bash
git clone <url-репозитория>
cd lynx/repo/admin
npm install
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Отредактируйте `.env` файл, внеся свои значения для переменных окружения.

5. Получите `credentials.json` от Google Cloud Platform:
   - Перейдите на [консоль Google Cloud](https://console.cloud.google.com/)
   - Создайте новый проект или выберите существующий
   - Включите Google Sheets API
   - Создайте учетные данные OAuth 2.0
   - Скачайте JSON-файл и переименуйте его в `credentials.json`

## Использование

Для запуска сервера разработки:
```bash
npm run dev
```

Для запуска в производственном режиме:
```bash
npm start
```

## API Эндпоинты

- **GET /api/filters** - получение списка номинаций и блоков
- **GET /api/scores** - получение оценок с фильтрацией (требуется авторизация)
- **GET /api/leaders** - получение лидеров в номинации (требуется авторизация)
- **GET /api/participants** - получение списка участников (требуется авторизация)

### Параметры запросов

Для эндпоинтов, требующих авторизации, необходимо передавать параметр `user_id` в запросе,
значение которого должно быть одним из списка ID администраторов, указанных в файле `.env`.

Дополнительные параметры:
- `nomination` - фильтрация по номинации
- `block` - фильтрация по блоку
- `limit` - ограничение количества результатов (для /api/leaders) 